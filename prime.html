<script type="text/javascript" async>
    "use strict";
    document.write('<!DOCTYPE html><html lang="ja">');
    document.write('<head><meta charset="UTF-8">');
    document.write('<title>prime</title>');
    document.write('</head><body>');
    document.write('<h1>素因数分解</h1>');
    document.write('<input type="number" value=345>');
    document.write('<input type="button" value="計算">');
    document.write('<samp></samp>');
    document.write('</body></html>');

    window.onload = function() {
        let number = document.querySelector('input[type="number"]');
        let button = document.querySelector('input[type="button"]');
        let samp = document.querySelector('samp');
        button.addEventListener('click', function() {
            samp.innerHTML = null;
            let prime = primeFactorization(number.value);
            prime.forEach(function(out) {
                samp.innerHTML += '<p>' + out + '</p>';
            });
        });
    }

    function primeFactorization(n) {
        n = parseInt(n);
        let array = [];
        if (n <= 2) {
            array.push("2より大きい数値を指定してください");
            return array;
        }
        for (let i = 2; i < n;) {
            if ((n % i) === 0) {
                n = n / i;
                array.push(i);
            } else {
                i++;
            }
            if (n === i) {
                array.push(i);
                break;
            }
        }
        return array;
    }
</script>